<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgo="> <!-- prevents favicon.ico requests -->
	<title>Test es6 Rollup</title>
</head>

<body>
	<noscript>
		<h1>We're sorry but page doesn't work properly without JavaScript enabled. Please enable it to continue.</h1>
	</noscript>
	<script type="text/javascript">
		/* var script = document.createElement('script');
		try {
			Function('import("")');
			script.src = "app.js";
			script.type = 'module';
		} catch(e) {
			script.src = "dist/build.js";
			script.type = 'text/javascript';
		}
		document.body.appendChild(script); */

		// Feature detect static imports.
		function supportsStaticImport() {
			const script = document.createElement('script');
			return 'noModule' in script;
		}

		// Feature detect dynamic import().
		function supportsDynamicImport() {
			try {
				Function('import("")');
				return true;
			} catch (err) {
				return false;
			}
		}
		// Usage.
		let el = document.createElement('pre');
		el.textContent = `
Supports ES module static import: ${supportsStaticImport()}
Supports dynamic ES module import(): ${supportsDynamicImport()}
`
		document.body.appendChild(el);
	</script>
	<!-- <script defer src="bundle.js"></script> -->

	<h1>Test es6 Rollup - using es6_test.js</h1>
	<h2><a href="https://gist.github.com/ebidel/3201b36f59f26525eb606663f7b487d0">Test dynamic import support code.</a></h2>
	<h3>json:</h3>
	<pre id='json'></pre>
	<h3>formatted json, compact:</h3>
	<pre id='formattedJson'></pre>
	<script defer type="module" src="es6_test.js">
		console.log('This browser supports <script type="module">')
	</script>
	<script defer nomodule src="bundle.js">
		console.log('This browser DOES NOT support <script type="module">')

	</script>
</body>

</html>
